{
  "name": "pantheon-systems/example-drops-8-composer",
  "description": "Install drops-8 with Composer on Pantheon.",
  "type": "project",
  "license": "MIT",
  "repositories": [
    {
      "type": "composer",
      "url": "https://packages.drupal.org/8"
    }
  ],
    "require": {
    "composer/installers": "^1.0.20",
    "cweagans/composer-patches": "^1.0",
    "drupal-composer/drupal-scaffold": "^2.0.1",
    "drupal/admin_toolbar": "^1.22",
    "drupal/auto_entitylabel": "2.x-dev",
    "drupal/bueditor": "^1.0",
    "drupal/chosen": "^2.4",
    "drupal/config_direct_save": "^1.0",
    "drupal/config_installer": "^1.0",
    "drupal/config_split": "^1.3",
    "drupal/console": "^1.0.0-rc8",
    "drupal/core": "^8.5",
    "drupal/ctools": "^3.0",
    "drupal/entity_browser": "^1.4",
    "drupal/entity_embed": "^1.0",
    "drupal/entity_reference_number_widget": "^1.0",
    "drupal/entityqueue": "^1.0@alpha",
    "drupal/facets": "^1.0",
    "drupal/field_group": "^3.0",
    "drupal/forward": "^2.1",
    "drupal/inline_entity_form": "^1.0@beta",
    "drupal/media_entity_browser": "^2.0",
    "drupal/migrate_upgrade": "^3.0",
    "drupal/paragraphs": "^1.2",
    "drupal/pathauto": "^1.0",
    "drupal/pathologic": "^1.0",
    "drupal/redirect": "^1.1",
    "drupal/search_api": "^1.8",
    "drupal/simple_block": "^1.0@beta",
    "drupal/smtp": "^1.0",
    "drupal/static_page": "^1.0",
    "drupal/token": "^1.0",
    "drupal/twig_field_value": "^1.1",
    "drupal/twig_tweak": "^1.9",
    "drupal/video_embed_facebook": "^1.3",
    "drupal/video_embed_field": "dev-2.x",
    "drupal/views_autocomplete_filters": "^1.2",
    "drupal/views_bulk_edit": "^2.0",
    "drupal/views_bulk_operations": "^2.2",
    "drupal/views_contextual_filters_or": "^1.0",
    "drupal/views_taxonomy_term_name_into_id": "^1.0",
    "drush/drush": "^8",
    "rvtraveller/qs-composer-installer": "^1.1",
    "webflo/drupal-core-strict": "^8.5"
  },
  "require-dev": {
    "behat/behat": "3.*",
    "behat/mink": "^1.7",
    "behat/mink-extension": "^2.2",
    "behat/mink-goutte-driver": "^1.2",
    "drupal/devel": "^1.2",
    "drupal/drupal-extension": "^3.1",
    "drupal/migrate_plus": "^4.0",
    "drupal/migrate_source_csv": "^2.0",
    "drupal/migrate_tools": "^4.0",
    "drupal/search_kint": "^1.0",
    "drush-ops/behat-drush-endpoint": "^0.0.4",
    "jcalderonzumba/gastonjs": "^1.0.2",
    "jcalderonzumba/mink-phantomjs-driver": "^0.3.1",
    "mikey179/vfsstream": "^1.2",
    "pantheon-systems/quicksilver-pushback": "~1",
    "phpunit/phpunit": "^4.8",
    "rvtraveller/qs-composer-installer": "^1.1",
    "symfony/css-selector": "^2.8"
  },
  "conflict": {
      "drupal/drupal": "*"
  },
  "minimum-stability": "alpha",
  "prefer-stable": true,
  "autoload": {
    "classmap": [
      "scripts/composer/ScriptHandler.php"
    ]
  },
  "scripts": {
    "build-assets": [
      "@prepare-for-pantheon",
      "composer install --optimize-autoloader"
    ],
    "lint": "find web/modules/custom web/themes/custom -name '*.php' -exec php -l {} \\;",
    "code-sniff": "echo 'No code sniff step defined.'",
    "unit-test": "echo 'No unit test step defined.'",
    "drupal-scaffold": "DrupalComposer\\DrupalScaffold\\Plugin::scaffold",
    "prepare-for-pantheon": "DrupalProject\\composer\\ScriptHandler::prepareForPantheon",
    "post-install-cmd": [
      "@drupal-scaffold",
      "DrupalProject\\composer\\ScriptHandler::createRequiredFiles"
    ],
    "post-update-cmd": [
      "DrupalProject\\composer\\ScriptHandler::createRequiredFiles"
    ],
    "post-create-project-cmd": [
      "@drupal-scaffold",
      "DrupalProject\\composer\\ScriptHandler::createRequiredFiles"
    ]
  },
  "extra": {
    "patches": {
      "drupal/admin_toolbar": {
        "[#2972553-3] Add static cache to speed up admin_toolbar_links_access_filter_user_has_admin_role()" : "https://www.drupal.org/files/issues/2018-05-13/2972553-3.admin_toolbar_optimization.patch"
      },
      "drupal/auto_entitylabel": {
        "[#2120055-22] Trim auto-generated labels" : "https://www.drupal.org/files/issues/2018-04-04/2120055-22.auto_entitylabel-8.x-2.x.trim-no-config.patch",
        "[#2905230-6] Alter inline_entity_form table to display auto-computed entity labels" : "https://www.drupal.org/files/issues/Title_displayed_as_AutoEntityLabel_after_saving_via_Inline_Entity_Form-2905230-6.patch"
      },
      "drupal/core": {
        "[#1699378-156] Entity reference: Dynamic Views Arguments via Tokens" : "https://www.drupal.org/files/issues/entity_autocomplete_1699378_156.patch",
        "[#2559961-29] ManyToOneHelper ignores group configuration for some cases and forces INNER joins" : "https://www.drupal.org/files/issues/manytoonehelper_ignores-2559961-29-8.3.x.patch",
        "[#2625136-63] Label visibility for exposed numeric and date filter when using single and multi value filter" : "https://www.drupal.org/files/issues/2625136-63.patch",
        "[#2645954-26] Views output field as a custom link options all ignored if path is routed" : "https://www.drupal.org/files/issues/2018-03-27/2645954-26.views-output-field-as-link-for-routed-paths.patch",
        "[#2934799-2] d6_term_node_revision migration ignores a lot of items that it shouldn't" : "https://www.drupal.org/files/issues/2934799-2-drupal-d6_term_node_revision_uses_wrong_migration_mapping.patch",
        "[#2959316-11] Views argument validators that modify argument values aren't reflected in token replacement" : "https://www.drupal.org/files/issues/2018-04-10/2959316-11.patch",
        "[#2959415-2] When a view uses the HTTPStatusCode handler to set a 404 or 403, throw the appropriate exception" : "https://www.drupal.org/files/issues/2018-04-07/2959415-2.httpstatuscode_throw_exception.patch"
      },
      "drupal/entity_browser": {
        "[#2972964-3] Add a CSS class to the widget for the target entity type" : "https://www.drupal.org/files/issues/2018-05-15/2972964-3.entity-browser-widget-media-type-class.patch"
      },
      "drupal/forward": {
        "[#2968459-2] Add tokens for links to the entity being forwarded" : "https://www.drupal.org/files/issues/2018-05-01/2968459-2.forward-link-tokens.patch",
        "[#2968659-2] The 'link' variable in forward.twig.html should be absolute" : "https://www.drupal.org/files/issues/2018-05-01/2968659-2.forward-entity-link-absolute.patch",
        "[#2969005-2] Migrate source plugins need to define a 'source_module' in their annotation" : "https://www.drupal.org/files/issues/2018-05-02/2969005-2.forward-migrate-source-module.patch",
        "[#2969317-2] Convert forward to use short array syntax" : "https://www.drupal.org/files/issues/2018-05-03/2969317-2.forward-short-array.patch",
        "[#2969337-6] Settings form UI improvement for dependent config options" : "https://www.drupal.org/files/issues/2018-05-03/2969337-6.patch",
        "[#2969352-4] Add option to allow plain text emails" : "https://www.drupal.org/files/issues/2018-05-03/2969352-3.allow-plain-text.patch",
        "[#2969352-10] Follow-up fix for plain text emails" : "https://www.drupal.org/files/issues/2018-05-04/2969352-10.plain-text-needs-helper-class.patch",
        "[#2969594-2] Simplify entity rendering code in ForwardForm::submitForm()" : "https://www.drupal.org/files/issues/2018-05-04/2969594-2.simplify-entity-rendering.patch",
        "[#2969418-2] Allow a separate filter format for plain text vs. HTML emails" : "https://www.drupal.org/files/issues/2018-05-03/2969418-2.filter_format_plain_text.patch",
        "[#2971226-3] Add a setting for an email footer textarea" : "https://www.drupal.org/files/issues/2018-05-07/2971226-3.email-footer-setting.patch",
        "[#2971228-3] Provide #recipient as a variable for the forward twig template" : "https://www.drupal.org/files/issues/2018-05-07/2971228-3.forward-recipient-template-variable.patch",
        "[#2972096-2] Fix config export to only show entities where forward is enabled": "https://www.drupal.org/files/issues/2018-05-10/2972096-2.forward-clean-settings.patch"
      },
      "drupal/migrate_upgrade": {
        "[#2935225-2] Fix to d6_term_node_revision handling (companion to core issue 2934799)" : "https://www.drupal.org/files/issues/2935225-2-migrate_upgrade-fix_to_d6_term_node_revision_handling.patch"
      },
      "drupal/search_api": {
        "[#2820410-20] Allow rendering an entity viewmode when using fields in views" : "https://www.drupal.org/files/issues/2018-03-12/search_api-views_rendered_item_field-2820410-20-D8.patch"
      },
      "drupal/static_page": {
        "[#2966642-2] Configure which field to use for static page content" : "https://www.drupal.org/files/issues/2018-04-26/2966642-2.static_page_select_field.patch",
        "[#2966644-2] Missing page title for settings page" : "https://www.drupal.org/files/issues/2018-04-26/2966644-2.static_page_settings_page_title.patch",
        "[#2966660-2] Support viewing node revisions of static page nodes" : "https://www.drupal.org/files/issues/2018-04-26/2966660-2.static_page_view_node_revisions.patch"
      },
      "drupal/redirect": {
        "[#2955400-4] d6_path_redirect migration source has to define the *correct* source_module annotation" : "https://www.drupal.org/files/issues/2018-03-22/2955400-4.d6_path_redirect-source_module.patch"
      },
      "drupal/views_bulk_operations": {
        "[#2960448-8] Add a cancel button on the action configuration form" : "https://www.drupal.org/files/issues/2018-04-15/2960448-8.vbo-cancel-buttons.patch"
      }
    },
    "installer-paths": {
      "web/core": ["type:drupal-core"],
      "web/modules/contrib/{$name}": ["type:drupal-module"],
      "web/profiles/contrib/{$name}": ["type:drupal-profile"],
      "web/themes/contrib/{$name}": ["type:drupal-theme"],
      "drush/contrib/{$name}": ["type:drupal-drush"]
    },
    "build-env": {
      "install-cms": [
        "drush site-install standard --account-mail={account-mail} --account-name={account-name} --account-pass={account-pass} --site-mail={site-mail} --site-name={site-name} --yes",
        "drush pm-enable config_direct_save simple_block --yes",
        "drush pm-uninstall block_content --yes"
      ],
      "export-configuration": "drush config-export --yes"
    },
    "drupal-scaffold": {
      "source": "https://raw.githubusercontent.com/pantheon-systems/drops-8/{version}/{path}",
      "includes": [
        "sites/default/default.services.pantheon.preproduction.yml",
        "sites/default/settings.pantheon.php"
      ],
      "excludes": [
        ".csslintrc",
        ".editorconfig",
        ".eslintignore",
        ".eslintrc.json",
        ".htaccess",
        "web.config"
      ]
    }
  },
  "config": {
    "optimize-autoloader": true,
    "preferred-install": "dist",
    "sort-packages": true
  }
}
